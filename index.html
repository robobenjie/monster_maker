<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Pixelify+Sans:wght@400..700&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Tiny5&display=swap" rel="stylesheet">
    <title>Monster Mat Creator</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics-compat.js"></script>

    <!-- Firebase UI -->
    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
    
    <!-- Our Firebase Service -->
    <script src="firebase_service.js"></script>

</head>
<body>
    <div class="container">
        <div class="controls">
            <button id="saveButton" class="save-button">Save Character</button>
            <select id="monsterSelect" style="display: none;">
                <option value="">-- Select a Monster --</option>
            </select>
        </div>
        <div class="character-mat">
            <input type="text" id="characterName" name="characterName" placeholder="Monster Name">
            <div id="imageContainer" class="image-container">
                <img id="characterImage" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" alt="Click to add image">
                <div class="image-overlay">Click to add image</div>
                <input type="file" id="imageInput" accept="image/*" style="display: none;">
            </div>
            <input type="text" id="monsterType" name="monsterType" placeholder="Monster Type">
            <div id="hpContainer">
                <span>HP:</span>
                <input type="number" id="monsterHP" name="monsterHP" placeholder="0">
            </div>
            <div id="armorContainer">
                <span>â›¨</span>
                <input type="number" id="monsterArmor" name="monsterArmor" value="3">
            </div>
            <div id="abilitiesContainer" class="abilities-container">
                <div class="abilities-list">
                    <!-- Abilities will be added here dynamically -->
                </div>
                <div class="ability-buttons no-print">
                    <button id="addAbility" class="add-ability">+ Add Ability</button>
                    <button id="addAttack" class="add-ability">+ Add Attack</button>
                </div>
            </div>
        </div>
        <div class="bottom-controls">
            <div class="file-controls">
                <a href="#" id="downloadLink">Download as file</a>
                <a href="#" id="uploadLink">Upload from file</a>
                <input type="file" id="loadFile" accept=".json" style="display: none;">
            </div>
            <button id="colorButton">Change Background</button>
            <input type="color" id="colorPicker" style="display: none;">
        </div>
    </div>
    <script src="game.js"></script>
    <!-- Modal for delete confirmation -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <p>Are you sure you want to delete this ability?</p>
            <div class="modal-buttons">
                <button id="confirmDelete">Delete</button>
                <button id="cancelDelete">Cancel</button>
            </div>
        </div>
    </div>
    
    <div class="auth-wrapper no-print">
        <div id="auth-container">
            <p id="sign-in-prompt" class="sign-in-prompt">Sign in to save your creations</p>
            <div id="firebaseui-auth-container"></div>
        </div>

        <button id="sign-out" hidden=true>Sign Out</button>

        <div id="login-info" hidden=true>
            <h2>Welcome <span id="user-name">Guest</span></h2>
        </div>
    </div>

</body>
</html> 